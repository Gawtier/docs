---
title: Smart Segments - Node.js
---
> **Status:** TODO - Priority: HIGH
>
> **Audience:** Node.js developers

## Description

Complete guide to implementing Smart Segments in Node.js with @forestadmin/agent.

## Sources to migrate

- `developer-guide-agent-v2/sources/agent-customization/segments/`
- `documentation-agent-v1/reference-documentation/segments/`

## Content outline

1. **Basic Setup**
   - Segment registration
   - Query builder syntax
   - TypeScript support

2. **Query Building**
   - Condition definition
   - Field operators
   - Combining conditions (AND/OR)
   - Relationship filters

3. **Raw Queries**
   - SQL queries
   - ORM-specific queries
   - Query optimization

4. **Async Segments**
   - External data conditions
   - API calls
   - Dynamic logic

5. **Advanced Patterns**
   - Date-based segments
   - User-specific segments
   - Context access
   - Nested conditions

6. **Performance**
   - Query optimization
   - Indexing
   - Caching

7. **Examples**
   - Active users (last 30 days)
   - VIP customers
   - Pending orders
   - Geographic segments

## Migration notes

- Node.js PRIORITY 1
- Most comprehensive examples
- TypeScript types included

## Related pages

- [Overview](/product/process/segments/smart-segments/overview)
- [Integration > Setup > Node.js](/product/integration/setup/nodejs)
